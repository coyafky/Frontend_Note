# 1. float 类型
浮点数：也叫`double`(双精度)数，或`实数`。
```php
$a = 1.233;
$b = 1.2e3;
$c = 7E-10;
```
浮点数精度有限，取决于系统。PHP 通常使用 IEEE 754 双精度格式，则由于取整而导致的最大相对误差为 1.11e-16。非基本数学运算可能会给出更大误差。<br>
以10进制能够精确表示的有理数例如 0.1、0.7，无论使用多少位数都不能被二进制精确表示，因此不能在不丢失一点点精度的情况下转换为二进制。这也是为什么`floor((0.1+0.7)*10)`返回7，而不是预期的8的原因。<br>
所以永远不要相信浮点数结果精确到了最后一位，也永远`不要`比较两个浮点数是否相等。

# 2. 类型转换
除了字符串，其他的类型转为float，都是先转为integer，再转为float。可使用`float` 、`double`、`real`进行强转。
| 数据类型 | 转换规则 |
| :--- | :--- |
| boolean | true=&gt;1.0, false&gt;0.0 |
| integer | 添加小数点在整数后面|
| NaN | 0.0 |
| infinity | 0.0 |
| string |0开头，去掉0<br> 当字符串没有包含`.`或`e`或`E`且其数值在整型范围内（PHP_INT_MAX）,当做integer来取值，再转为float<br>字符串的开始部分决定它的值：以合法数值开始，则使用该数值，否则为`0`。<br>合法数值的组成：可选的`+-`，后面跟着1个或多个数字(`可能是小数`),再跟着可选的指数部分。指数部分由 'e' 或 'E' 后面跟着一个或多个数字构成 |

# 3. 迂回方式比较浮点数
要测试浮点数是否相等，要使用一个仅比该数值大一丁点的最小误差值。该值也被称为机器极小值（epsilon）或最小单元取整数，是计算中所能接受的最小的差别值。
```php
// $a 和 $b 在小数点后五位精度内都是相等的
$a = 0.123456789;
$b = 0.123456780;
$epsilon = 0.00001; // 最小误差值
if ($a - $b < $epsilon) {
    echo 'true';
}
```

# 4. NaN
由于 NAN 代表着任何不同值，不应拿 NAN 去和其它值进行比较，包括其自身，应该用 is_nan() 来检查。